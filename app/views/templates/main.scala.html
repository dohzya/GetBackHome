@()(implicit lang: Lang)

@import play.api.Play
@import play.api.Play.current
@import utils.AppConf
@import views.html.partials._

@defining(Play.configuration) { config =>
@defining(AppConf(config)) { conf =>

<!DOCTYPE html>

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" data-ng-app="app" data-ng-controller="GBHCtrl"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" data-ng-app="app" data-ng-controller="GBHCtrl"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" data-ng-app="app" data-ng-controller="GBHCtrl"> <![endif]-->
<!--[if gt IE 8]><!-->
  <html class="no-js" data-ng-app="app" data-ng-controller="GBHCtrl">
<!--<![endif]-->

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="fragment" content="!" />

  <title>GetBackHome</title>

  <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
  <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
  <script src="@routes.Assets.at("javascripts/vendors/modernizr/modernizr.js")"></script>
</head>

<body>
  <div class="navbar navbar-fixed-top">
    <div class="container">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="navbar-brand" href="/">GetBackHome</a>

      <div class="nav-collapse collapse navbar-responsive-collapse">
        <ul class="nav navbar-nav">
          <li ng-class="{active: views.selectedView == 'orders'}">
            <a href="#" ng-click="selectView('orders')">Home</a>
          </li>
          <li ng-class="{active: views.selectedView == 'map'}">
            <a href="#" ng-click="selectView('map')">Map</a>
          </li>
        </ul>
      </div>

    </div>
  </div>

  <div class="container">
    <div class="tab tab-orders {{viewClass('orders')}}" ng-controller="GBHOrders">@views.html.index()</div>
    <div class="tab tab-map {{viewClass('map')}}" ng-controller="GUICtrl">@views.html.map()</div>
  </div>

  @if(conf.livereload) {
    <script src="http://localhost:35729/livereload.js?snipver=1"></script>
  }

  <!--<script data-main="@routes.Assets.at("javascripts/require-main" + { if (conf.scriptsMin) "-" + conf.version + ".min" else "" } + ".js")" src="@routes.Assets.at("javascripts/vendors/requirejs/require.js")"></script>-->

  @if(conf.scriptsMin) {
    <script src="@routes.Assets.at("javascripts/main" + conf.version + ".min.js")"></script>
  } else {
    <script src="@routes.Assets.at("javascripts/vendors/jquery/jquery.min.js")"></script>

    <!--
    <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/1.2.0/lodash.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.4/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.4/angular-resource.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
    -->
    <!-- -->
    <script src="@routes.Assets.at("javascripts/vendors/q/q.js")"></script>
    <script src="@routes.Assets.at("javascripts/vendors/lodash/lodash.js")"></script>
    <script src="@routes.Assets.at("javascripts/vendors/angular/angular.js")"></script>
    <script src="@routes.Assets.at("javascripts/vendors/angular/angular-resource.js")"></script>
    <script src="@routes.Assets.at("javascripts/vendors/restangular/restangular.js")"></script>
    <!-- -->

    <script src="@routes.Assets.at("javascripts/main.js")"></script>

    <script src="@routes.Assets.at("javascripts/utils/Rc4Random.js")"></script>
    <script src="@routes.Assets.at("javascripts/utils/perlin_simplex.js")"></script>
    <script src="@routes.Assets.at("javascripts/utils/generator.js")"></script>

    <script src="@routes.Assets.at("javascripts/app/app-controller.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHCtrl.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHOrdersCtrl.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHDisplay.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHLogger.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHOrders.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHEngine.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHModels.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHActions.js")"></script>
    <script src="@routes.Assets.at("javascripts/gbh/GBHStats.js")"></script>

    <script src="@routes.Assets.at("javascripts/gui/global_zones.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/gui/GUISprites.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/gui/GUIZone.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/gui/GUIMap.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/gui/GUIController.js")" type="text/javascript"></script>

    <script src="http://localhost:35729/livereload.js?snipver=1" type="text/javascript"></script>
  }

</body>
</html>

}
}
